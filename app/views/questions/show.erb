<div><a href="/">Home</a></div>
<br>
<h3>Title: <%=@question.title%></h3>


<form method="post" action='/questions/<%= @question.id %>/vote' class="inline">
  <button type="submit" name="vote_num" value="1" class="fa fa-sort-desc vote-button downvote-button"></button>
  <input type="hidden" name="type" value="Question">
</form>


<%=@question_vote_count%>


<form method="post" action='/questions/<%= @question.id %>/vote' class="inline">
  <button type="submit" name="vote_num" value="-1" class="fa fa-sort-desc vote-button downvote-button"></button>
  <input type="hidden" name="type" value="Question">
</form>

Content: <%=@question.content%>
<br>
<br>

Tags:<% @question.tags.each do |tag| %>
  <p><a href="/tags/<%=tag.id%>"><%=tag.name%></a></p>
<% end %>

<h3>Question Comments</h3>
<ul>
<% @comments.each do |comment| %>
  <li>
    <%=comment.content%>
  </li>
<% end %>
</ul>

<form action="/comments" method="Post">
  <textarea rows="2" cols="50" type='text' name='comment[content]'></textarea>
  <input type="hidden" name="question_id" value="<%=@question.id%>">
  <input type="hidden" name="commentable_id" value="<%=@question.id%>">
  <input type="hidden" name="comment_type" value="Question">
  <input type="submit" value="Comment!">
  <br>
</form>

<%=@question.answers.count%> Answers
<h1>Answers</h1>
<p>=========================================</p>
<br>
<ul>
<%@question.answers.each do |answer|%>

  <form method="post" action='/answers/<%=answer.id%>/best' class="inline">
    <button type="submit" name="vote_num" value="1" class="fa fa-sort-desc vote-button downvote-button">Vote Best Answer</button>
    <input type="hidden" name="type" value="Answer">
  </form>

  <p><%=p answer.content%></p>

  <% if answer.best_answer%>
    <p>Voted Best Answer!</p>
  <%end%>

<!-- upvote button -->
  <form method="post" action='/answers/<%=answer.id%>/vote' class="inline">
    <button type="submit" name="vote_num" value="1" class="fa fa-sort-desc vote-button downvote-button"></button>
    <input type="hidden" name="type" value="Answer">
  </form>

  <%=sum_votes(answer.votes)%>

  <form method="post" action='/answers/<%=answer.id%>/vote' class="inline">
    <button type="submit" name="vote_num" value="-1" class="fa fa-sort-desc vote-button downvote-button"></button>
    <input type="hidden" name="type" value="Answer">
  </form>

  <h4>Comments</h4>
  <%answer.comments.each do |comment|%>
    <p><%=comment.content%></p>
  <%end%>

<form action="/comments" method="Post">
  <textarea rows="2" cols="50" type='text' name='comment[content]'></textarea>
  <input type="hidden" name="commentable_id" value="<%=answer.id%>">
  <input type="hidden" name="question_id" value="<%=@question.id%>">
  <input type="hidden" name="comment_type" value="Answer">
  <input type="submit" value="Comment on this answer">
  <br>
</form>

<%end%>
</ul>

<form action="/answers" method="Post">
  <textarea rows="2" cols="50" type='text' name='answer[content]'></textarea>
  <input type="hidden" name="user_id" value="<%=session[:user_id]%>">
  <input type="hidden" name="question_id" value="<%=@question.id%>">
  <input type="submit" value="Answer this question">
  <br>
</form>
